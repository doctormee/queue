<h1 id="">Система Электронной Очереди (прототип)</h1>

<ol>
<li><p>Используемые термины</p>

<p><strong>Клиент</strong> — пользователь системы </p>

<p><strong>Специалист</strong> — внесённый в Систему человек, оказывающий одну или несколько услуг </p>

<p><strong>Пользователь</strong> — конечный получатель услуги</p>

<p><strong>Правило</strong> — пара логических выражений (условий)</p></li>

<li><p>Порядок установки</p>

<p>Скачайте все файлы и поместите их в директорию, в которой планируется размещение готовой системы. Затем в терминале, находясь в этой папке, выполните следующую команду: <code>make build</code></p>

<p>В случае успешного завершения работы make, в папке будет располагаться исполняемый файл priority_queue. </p>

<p>Для первого запуска тестов выполните следующую команду: <code>make test</code></p>

<p>Для первого запуска тестов под valgrind выполните следующую команду: <code>valgrind make test</code></p>

<p>Для просмотра покрытия после запуска тестов выполните следующую команду: <code>make cov</code></p>

<p>Для последующего запуска тестов выполните <code>make test</code> (под valgrind — <code>valgrind make test</code>)</p></li>

<li><p>Спецификации системы</p>

<ol>
<li><p>Пользователи и приоритет</p>

<p>При входе в систему, пользователь обязан, после выбора в меню соответствующей услуги, ввести все свои персональные данные, которые будут запрашиваться: Фамилию, Имя, Возраст, Вес, Рост и Пол. Установка администратором правил определения приоритета возможна только путём сравнения значений полей Возраст, Вес, Рост и Пол с целым неотрицательным числом. О том, как работать в консоли администратора, читайте пункт 3.3.
Приоритет пользователя определяется как число, высчитываемое по следующей формуле: для каждого существующего правила определения приоритета, если текущий пользователь удовлетворяет первому условию, его приоритет увеличивается на число других пользователей, стоящих в этой очереди, удовлетворяющих второму логическому условию. </p></li>

<li><p>Сохранение состояния системы</p>

<p>Система способна сохранять и восстанавливать в дальнейшем одно специфическое состояние (о том, как это сделать, читайте пункт 3.4). При этом сохраняется информация о специалистах, оказываемых ими услугах и правилах определения приоритета, но не состояние очереди и база пользователей.</p></li></ol></li>

<li><p>Взаимодействие с системой</p>

<ol>
<li><p>Начало работы с системой</p>

<p>Процесс priority_queue представляет собой всю систему. После запуска этого процесса клиент должен выбрать в появившемся меню один из пунктов: войти как существующий пользователь (по Идентификатору), как новый пользователь или как администратор</p></li>

<li><p>Пользовательский интерфейс</p>

<p>Интерфейс пользователя представляет из себя текстовое меню, состоящее из пронумерованных пунктов. Для выбора конкретного пункта пользователь должен ввести в консоль его номер без точки и нажать клавишу enter (return). Когда у пользователя запрашиваются данные, ему следует ввести одну строку и нажать enter (return) для полей Имя и Фамилия, ввести целое положительное число, помещающееся в тип int, и нажать enter (return) для полей Возраст, Вес, Рост, ввести заглавную латинскую букву M или F и нажать enter (return) для поля Пол. </p></li>

<li><p>Консоль администратора</p>

<p>Консоль администратора представляет из себя текстовое меню, аналогичное пользовательскому (см. пункт 3.2), в котором присутствуют соответствующие пункты. Кроме того, при выборе пункта "добавить правило определения приоритета", администратор должен по приглашению системы написать последовательно два логических выражения на языке логических выражений. (Грамматику этого языка см. пункт 4)</p></li>

<li><p>Сохранение состояния системы и загрузка сохранённой конфигурации</p>

<p>Для сохранения состояния системы следует выбрать соответствующий пункт в консоли администратора. После повторного запуска системы для восстановления данных требуется выбрать пункт "Загрузить конфигурацию системы".</p></li></ol></li>

<li><p>Язык логических выражений</p>

<p>Грамматика языка логических выражений имеет следующий вид (здесь {выражение} означает выражение, повторённое 0 и более раз, слово в одинарных кавычках — терминальный символ (последовательность терминальных символов), слово заглавными буквами — нетерминальный символ, выражение a..z — один любой терминальный символ из диапазона [a, z])</p>

<p>IMP = DISJ {'->' IMP}</p>

<p>DISJ = CONJ {'|' DISJ} </p>

<p>CONJ = NEG {'&amp;' CONJ}</p>

<p>NEG = {'!'}PAR</p>

<p>PAR = '('DISJ')' | TERM</p>

<p>TERM = FIELD SIGN VALUE | 'gender ' EQNOTEQ GENVALUE| 'ALL '</p>

<p>FIELD = 'height ' | 'weight ' | 'age '</p>

<p>SIGN = '>' | '>=' | '&lt;' | '&lt;=' | EQNOTEQ</p>

<p>VALUE = {'0'}{1..9} </p>

<p>GENVALUE = 'M' | 'F'</p>

<p>EQNOTEQ = '=' | '!='</p>

<p>Кроме того, целое число, порождаемое нетерминалом VALUE, должно вмещаться целиком в тип int и быть неотрицательным</p></li>
</ol>